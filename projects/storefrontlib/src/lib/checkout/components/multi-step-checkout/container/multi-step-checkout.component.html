<ng-container
  *ngIf="(checkoutDetailsService.getCheckoutDetailsLoaded$ | async)"
>
  <div *ngIf="(cart$ | async) as cart">
    <div class="row">
      <div class="col-md-12 col-lg-8">
        <div class="cx-media">
          <ul class="cx-list">
            <ul class="cx-list">
              <div class="cx-list-media">
                {{
                  'cartItems.cartTotal'
                    | cxTranslate: { count: cart.totalItems }
                }}:
                {{ cart.subTotal?.formattedValue }}
              </div>

              <div *ngFor="let step of steps">
                <ng-container>
                  <div class="wrapper">
                    <div class="cx-bottom-links">
                      <a [routerLink]="step.link" class="cx-link btn-link">{{
                        step.link
                      }}</a>
                    </div>
                  </div>
                </ng-container>
              </div>
              <router-outlet></router-outlet>
            </ul>
          </ul>
        </div>
      </div>

      <!-- ORDER SUMMARY SECTION -->
      <div class="col-md-7 offset-md-5 col-lg-4 offset-lg-0">
        <cx-order-summary [cart]="cart"></cx-order-summary>

        <!-- CHECKBOX AND PLACE ORDER BUTTON -->
        <div class="cx-place-order" *ngIf="step === 4">
          <cx-place-order></cx-place-order>

          <button class="btn btn-action btn-block" (click)="nextStep(3)">
            {{ 'common.back' | cxTranslate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-container>
